(function(g,f){if(!g.Webtrends){return}var d={plugMap:{},getKeys:function(c,a){for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a},AtoO:function(c){var a={};for(var b=0;b<c.length;++b){a[c[b]]=true}return a},getURLKeepParms:function(a){if(a.hmurlparams&&a.hmurlparams.length>0){var i=a.hmurlparams.split(",");urlParams=d.AtoO(i);var b=[];var m=Webtrends.getQryParams(g.location.search);var c=d.getKeys(m,[]).sort();for(var l=0;l<c.length;++l){if(urlParams[c[l]]){b.push(c[l]);b.push(m[c[l]])}}return b.join(",")}else{return""}},hm_clickEvent:function(a,r){var h=d.plugMap[a.dcssID];if(!h){return}e=r.event||g.event;var b=0;var p=0;if(typeof(g.innerWidth)=="number"){b=g.innerWidth;p=g.innerHeight}else{if(f.documentElement&&(f.documentElement.clientWidth||f.documentElement.clientHeight)){b=f.documentElement.clientWidth;p=f.documentElement.clientHeight}else{if(f.body&&(f.body.clientWidth||f.body.clientHeight)){b=f.body.clientWidth;p=f.body.clientHeight}}}var q=0;var s=0;if(typeof(g.pageYOffset)=="number"){s=g.pageYOffset;q=g.pageXOffset}else{if(f.body&&(f.body.scrollLeft||f.body.scrollTop)){s=f.body.scrollTop;q=f.body.scrollLeft}else{if(f.documentElement&&(f.documentElement.scrollLeft||f.documentElement.scrollTop)){s=f.documentElement.scrollTop;q=f.documentElement.scrollLeft}}}if(e.clientX>b||e.clientX<0||e.clientY>p||e.clientY<0||e.clientX=="NaN"||q=="NaN"||b=="NaN"||p=="Nan"){return}var c=e.clientX+q;var o=e.clientY+s;if(!h.mTrackOptions.args){h.mTrackOptions.args={}}h.mTrackOptions.args["WT.dl"]="125";h.mTrackOptions.args["WT.hm_x"]=c;h.mTrackOptions.args["WT.hm_y"]=o;h.mTrackOptions.args["WT.hm_w"]=b;h.mTrackOptions.args["WT.hm_h"]=p;h.mTrackOptions.args["WT.hm_tv"]="10.2.10";if(h.urlKeepParams){h.mTrackOptions.args["WT.hm_url"]=h.urlKeepParams}h.dcsMultiTrack(h.mTrackOptions)},hm_loader:function(o,b){if(b.filter&&b.filter()){return}var a=new Webtrends.dcs();var c={dcsid:((b.dcsid)?b.dcsid:o.dcsid),domain:((b.domain)?b.domain:"hm.webtrends.com"),timezone:o.timezone,i18n:o.i18n,vtid:o.vtid,enabled:o.enabled,privateFlag:true};if(o.FPCConfig){var m={};var l={};m.enabled=o.FPCConfig.enabled;m.name=o.FPCConfig.name;m.domain=o.FPCConfig.domain;m.expires=o.FPCConfig.expiry;l.enabled=o.enabled;l.cfgType=o.cfgType;c.FPCConfig=m;c.TPCConfig=l}else{c.fpc=o.fpc;c.fpcdom=o.fpcdom;c.cookieexpires=o.cookieExp}a.init(c);var n=d.getURLKeepParms(b);a.urlKeepParams=n;Webtrends.addTransform(function(i,h){if(!h.argsa){h.argsa=[]}h.argsa.push("WT.hm_url",n)},"collect",o);d.plugMap[o.dcssID]=a;Webtrends.bindEvent("wtmouseup",d.hm_clickEvent,o);if(b.mTrackOptions){a.mTrackOptions=b.mTrackOptions}else{a.mTrackOptions={}}}};g.WebtrendsHeatMap=d;Webtrends.registerPlugin("hm",d.hm_loader)})(window,window.document);