(function(){TWP=window.TWP||{};TWP.Data=TWP.Data||{};TWP.Data.environment=TWP.Data.environment||"prod";TWP.signin={};if(TWP.Data.environment=="dev"||TWP.Data.environment=="qa"){TWP.signin.registrationurl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/group/long?destination=";TWP.signin.profileurl="https://actmgmtqa.digitalink.com/actmgmt/profile/show?destination=";TWP.signin.loginurl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/login/long?destination=";TWP.signin.loginurl_overlay="https://actmgmt.digitalink.com/actmgmt/registration/login/short/overlay";TWP.signin.logouturl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/logout";TWP.signin.newsletterurl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/addnewsletter/long";TWP.signin.newsletterurl_overlay="https://actmgmtqa.digitalink.com/actmgmt/registration/addnewsletter/overlay";TWP.signin.logincommentsurl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/login/commenting";TWP.signin.logincommentsurl_overlay="https://actmgmtqa.digitalink.com/actmgmt/registration/login/commenting/overlay";TWP.signin.registrationcommentsurl_page="https://actmgmtqa.digitalink.com/actmgmt/registration/group/commenting";TWP.signin.registrationcommentsurl_overlay="https://actmgmtqa.digitalink.com/actmgmt/registration/group/commenting/overlay";TWP.signin.api_url="http://glasstest.digitalink.com/reg-service/2.0";}else{TWP.signin.registrationurl_page="https://ssl.washingtonpost.com/actmgmt/registration/group/long?destination=";TWP.signin.profileurl="https://ssl.washingtonpost.com/actmgmt/profile/show?destination=";TWP.signin.loginurl_page="https://ssl.washingtonpost.com/actmgmt/registration/login/long?destination=";TWP.signin.loginurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/login/short/overlay";TWP.signin.logouturl_page="https://ssl.washingtonpost.com/actmgmt/registration/logout";TWP.signin.newsletterurl_page="https://ssl.washingtonpost.com/actmgmt/registration/addnewsletter/long";TWP.signin.newsletterurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/addnewsletter/overlay";TWP.signin.logincommentsurl_page="https://ssl.washingtonpost.com/actmgmt/registration/login/commenting";TWP.signin.logincommentsurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/login/commenting/overlay";TWP.signin.registrationcommentsurl_page="https://ssl.washingtonpost.com/actmgmt/registration/group/commenting";TWP.signin.registrationcommentsurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/group/commenting/overlay";TWP.signin.api_url="http://www.washingtonpost.com/reg-service/2.0";}TWP.isAvatarEditable=function(){var A=document.cookie;idx=A.indexOf("wapo_provider");idxEnd=A.indexOf(";",idx)<0?A.length:A.indexOf(";",idx);provider=A.substr(idx,idxEnd-idx).split("=");return !!(provider[1]&&provider[1]!=="Facebook");};TWP.isSignedIn=function(){var A=document.cookie;idx=A.indexOf("wapo_login_id");if(idx>-1){return true;}else{return false;}};TWP.signedInProvider=function(){var A=document.cookie;idx=A.indexOf("wapo_provider");idxEnd=A.indexOf(";",idx)<0?A.length:A.indexOf(";",idx);provider=A.substr(idx,idxEnd-idx).split("=");return provider[1];};})();(function(){TWP.Util=TWP.Util||{};TWP.Util.User=function(){var C=false;var N=false;var I=null;var G="";var D="";var J=null;var H=false;var E="washington-post";var F=["wapo_display"];var K=["wapo_login_id"];var B=["at"];function O(R,Q){var S=-1,P=-1;S=(R.indexOf(Q)+Q.length+1);P=(J.indexOf(";",S))==-1?J.length:J.indexOf(";",S);return R.substring(S,P).split("|")[0];}function M(){var S,P,V,U=document.cookie.split(";");for(S=0;S<U.length;S++){var P=U[S].substr(0,U[S].indexOf("="));var V=U[S].substr(U[S].indexOf("=")+1);var P=P.replace(/^\s+|\s+$/g,"");if(P=="at"){var R=unescape(V);var Q=R.split("=")[3];var T=false;if(Q){Q=Q.split("&")[0];if(Q){var T=A(Q);}else{return T;}}else{return T;}return(Q.length>0&&typeof Q=="string"&&T)?Q:false;}}}function A(Q){var P=Q.indexOf("@");var R=Q.lastIndexOf(".");if(P<1||R<P+2||R+2>=Q.length){return false;}else{return true;}}function L(){var Q=document.location.href;if(Q.indexOf("localhost")>-1){var S=$.cookie("TWPNIUCID");if(typeof S=="undefined"){var R=new Date();var P="TWPNI"+R.getTime()+"."+Math.round(Math.random()*10000);R.setTime(R.getTime()+31104000000);$.cookie("TWPNIUCID",P,{domain:".washingtonpost.com",expires:R,path:"/"});}}}return{init:function(){if(C){return ;}C=true;var Q="";for(var P=0;P<K.length;P++){if(document.cookie.indexOf(K[P])!=-1){N=true;break;}}for(var P=0;P<F.length;P++){if(document.cookie.indexOf(F[P])!=-1){J=document.cookie;E=F[P];break;}}if(N){switch(E){case"fbuname":Q=O(J,E,8);break;default:Q=O(J,E,9);break;}I=(Q.indexOf("@")!==-1)?Q.substring(0,Q.indexOf("@")):Q;I=I.replace(/"/gi,"");G=Q;D=M();}L();},getUserCookie:function(){return(J.length>0&&typeof J=="string")?J:null;},getUserType:function(){return(E.length>0&&typeof E=="string")?E:null;},getUserId:function(){return G;},getUserName:function(){return(typeof I=="string")?I:"";},getUserEmail:function(){return(D.length<0||D==false)?null:D;},getAuthentication:function(){return N;}};}();TWP.Util.User.init();})();(function(){window.TWP=window.TWP||{};TWP.Identity=TWP.Identity||{};TWP.server=TWP.server||window.location.href.match(/^.*?:\/\/.*?\//)[0];TWP.Identity.setAuthenticationLink=function(){var G=document.getElementById("global-signin");var A=document.getElementById("global-registration");var C=null;var F=null;var E=window.location.href.split("?")[0];var D=this.objs;if(G&&A&&(TWP.server.match(/digitalink\.com|washingtonpost\.com|wpprivate\.com/ig)!=null)){if(TWP.Util.User.getAuthentication()){C=TWP.Util.User.getUserName();F=(typeof TWP.signedInProvider=="function")?TWP.signedInProvider():"Washington Post";F=(typeof F!="undefined")?F.toLowerCase():"";var B=((F.indexOf("facebook")>=0)?'<a class="icon share facebook" ':"<span>Hello </span><a ")+' href="'+TWP.signin.profileurl+E+'">'+C+"</a>";G.innerHTML=B;A.innerHTML='<a href="'+TWP.signin.logouturl_page+'">Sign Out</a>';}else{G.innerHTML='<a href="'+TWP.signin.loginurl_page+E+'">Sign In</a>';A.innerHTML='<a href="'+TWP.signin.registrationurl_page+E+'">Register</a>';}}};TWP.Identity.setHandlers=function(){};TWP.Identity.init=function(){TWP.Identity.setAuthenticationLink();TWP.Identity.setHandlers();};TWP.Identity.init();})();(function(A){A.fn.imageLazyLoader=function(D){var E={container:A(window),imageClass:"unloaded",urlAttribute:"data-src",threshold:200,delay:50,speed:300},G=A.extend(E,D);var B=[],F="loadimage",H;var C=function(I){window.console&&console.log&&console.log(I);};G.container.bind("scroll resize",function(I){if(H){clearTimeout(H);}H=setTimeout(function(){var L=G.container.scrollTop();height=G.container.height(),topLimit=L-G.threshold;bottomLimit=L+height+G.threshold;for(var J=0;J<B.length;J++){var K=B[J];if(!K.loaded){if(K.offset().top<=bottomLimit&&K.offset().top>=topLimit){K.trigger(F);}}}},G.delay);});this.each(function(){var I=A(this);I.loaded=false;I.bind(F,function(){if(I.attr(G.urlAttribute)){I.hide().attr("src",I.attr(G.urlAttribute)).removeClass(G.imageClass).removeAttr(G.urlAttribute);if(A.browser.msie){I.show();}else{I.fadeIn(G.speed);}I.loaded=true;}});B.push(I);});G.container.trigger("resize");return this;};A.fn.lazyLoadImages=function(B){var C=A.extend({imageClass:"unloaded",urlAttribute:"data-src"},B);return this.each(function(){var D=A(this);D.hide().attr("src",D.attr(C.urlAttribute)).removeClass(C.imageClass).removeAttr(C.urlAttribute).show();});};})(jQuery);jQuery(function(){jQuery(".unloaded").imageLazyLoader({imageClass:"unloaded"});});(function(A){TWP.Module=window.TWP.Module||{};TWP.Module.MegaMenu=function(){adCalled=false;jQuery("#main-nav-wrapper-v2 li.politics, li.politics div.rollMe, #header-v3 .politicsAd").hover(function(){jQuery("li.politics div.rollMe, #header-v3 .sample-ad.politicsAd").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.politics a.top").addClass("onColor");
jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.politics div.rollMe, #header-v3 .sample-ad").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.politics a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.opinions, li.opinions div.rollMe, #header-v3 .opinionsAd").hover(function(){jQuery("li.opinions div.rollMe, #header-v3 .sample-ad.opinionsAd").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.opinions a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.opinions div.rollMe, #header-v3 .sample-ad,#newsharebar").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.opinions a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.local, li.local div.rollMe").hover(function(){jQuery("li.local div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.local a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.local div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.local a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.sports, li.sports div.rollMe").hover(function(){jQuery("li.sports div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.sports a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.sports div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.sports a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.national, li.national div.rollMe").hover(function(){jQuery("li.national div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.national a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.national div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.national a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.world, li.world div.rollMe").hover(function(){jQuery("li.world div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.world a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.world div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.world a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.business, li.business div.rollMe").hover(function(){jQuery("li.business div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.business a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.business div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.business a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.technology, li.technology div.rollMe").hover(function(){jQuery("li.technology div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.technology a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.technology div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.technology a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.lifestyle, li.lifestyle div.rollMe").hover(function(){jQuery("li.lifestyle div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.lifestyle a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.lifestyle div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.lifestyle a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.entertainment, li.entertainment div.rollMe").hover(function(){jQuery("li.entertainment div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.entertainment a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.entertainment div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.entertainment a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.blogs, li.blogs div.rollMe").hover(function(){jQuery("li.blogs div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.blogs a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.blogs div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.blogs a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.photography, li.photography div.rollMe").hover(function(){jQuery("li.photography div.rollMe").css("visibility","visible");jQuery("li.photography a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.photography div.rollMe").css("visibility","hidden");jQuery("li.photography a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.video, li.video div.rollMe").hover(function(){jQuery("li.video div.rollMe").css("visibility","visible");jQuery("li.video a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.video div.rollMe").css("visibility","hidden");jQuery("li.video a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.more, li.more div.rollMe").hover(function(){jQuery("li.more div.rollMe").css("visibility","visible");jQuery("li.more a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.more div.rollMe").css("visibility","hidden");jQuery("li.more a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.realestate, li.realestate div.rollMe").hover(function(){jQuery("li.realestate div.rollMe").css("visibility","visible");jQuery("li.realestate a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");
},function(){jQuery("li.realestate div.rollMe").css("visibility","hidden");jQuery("li.realestate a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.classifieds, li.classifieds div.rollMe").hover(function(){jQuery("li.classifieds div.rollMe").css("visibility","visible");jQuery("li.classifieds a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.classifieds div.rollMe").css("visibility","hidden");jQuery("li.classifieds a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("li.moreolympics, li.moreolympics div.rollMe").hover(function(){jQuery("div.moreolympics-dropdown").css("visibility","visible");jQuery("li.moreolympics").addClass("whitebg");jQuery("li.moreolympics a:first, li.moreolympics a .arrow-s").addClass("bluecolornav");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.moreolympics div.moreolympics-dropdown.rollMe").css("visibility","hidden");jQuery("li.moreolympics").removeClass("whitebg");jQuery("li.moreolympics a:first, li.moreolympics a .arrow-s").removeClass("bluecolornav");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});};TWP.Module.MegaMenu();})(jQuery);